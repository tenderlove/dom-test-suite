<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE test SYSTEM "dom1.dtd">
<test xmlns="http://www.w3.org/2001/DOM-Test-Suite/Level-1" name="characterdatadeletedatanomodificationallowederrEE">
<metadata>
<title>characterdataDeleteDataNoModificationAllowedErrEE</title>
<creator>Curt Arnold</creator>
<description>
    The "deleteData(offset,count)" method raises a NO_MODIFICATION_ALLOWED_ERR 
   DOMException if the node is readonly.   
   Obtain the children of the THIRD "gender" element.  Add an reference to ent4.  
   Get the FIRST item  from the entity reference and execute the 
   "deleteData(offset,count)" method.
   This causes a NO_MODIFICATION_ALLOWED_ERR DOMException to be thrown.
</description>
<date qualifier="created">2001-08-20</date>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#xpointer(id('ID-258A00AF')/constant[@name='NO_MODIFICATION_ALLOWED_ERR'])"/>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#ID-7C603781"/>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#xpointer(id('ID-7C603781')/raises/exception[@name='DOMException']/descr/p[substring-before(.,':')='NO_MODIFICATION_ALLOWED_ERR'])"/>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#ID-72AB8359"/>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#ID-7C603781"/>
<source  resource="http://www.w3.org/2001/DOM-Test-Suite/level1/core/characterdatadeletedatanomodificationallowederr.xml"/>
</metadata>
<var name="doc" type="Document"/>
<var name="genderList" type="NodeList"/>
<var name="genderNode" type="Node"/>
<var name="entText" type="Node"/>
<var name="entReference" type="EntityReference"/>
<var name="appendedChild" type="Node"/>
<load var="doc" href="staff.xml" willBeModified="true"/>
<getElementsByTagName interface="Document" obj="doc" tagname="&quot;gender&quot;" var="genderList"/>
<item interface="NodeList" obj="genderList" index="2" var="genderNode"/>
<createEntityReference obj="doc" var="entReference" name='"ent3"'/>
<appendChild obj="genderNode" newChild="entReference" var="appendedChild"/> 
<firstChild var="entText" obj="entReference" interface="Node"/>
<assertDOMException id="throw_NO_MODIFICATION_ALLOWED_ERR">
<NO_MODIFICATION_ALLOWED_ERR>
<deleteData obj="entText" offset="1" count="3"/>
</NO_MODIFICATION_ALLOWED_ERR>
</assertDOMException>
</test>
